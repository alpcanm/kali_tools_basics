Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.6
Creation-Date: 2025-11-13T17:19:30+03:00

====== yorumlamasÄ± ======
Created Thursday 13 November 2025

====== Temiz bir tcp paket gÃ¶nderim simÃ¼lasyonu ======
Created Thursday 13 November 2025


---

## ğŸ–§ GENEL TABLO  
Bu iletiÅŸim:  
**Ä°stemci** (senin bilgisayarÄ±n - `192.168.1.106`)  
â¬„  
**Sunucu** (`148.230.114.116`, SNI: `api.atlastorya.com`)  
arasÄ±nda gerÃ§ekleÅŸen bir **HTTPS (TCP 443/TLS 1.3)** baÄŸlantÄ±sÄ±dÄ±r.

---

## ğŸ”¹ 1. TCP ÃœÃ§ YÃ¶nlÃ¼ El SÄ±kÄ±ÅŸma (BaÄŸlantÄ± Kurulumu)
Bu aÅŸama, iki cihazÄ±n birbirine â€œbaÄŸlantÄ± kurabilir miyiz?â€ dediÄŸi kÄ±sÄ±mdÄ±r.

| AÅŸama           | Frame | AÃ§Ä±klama                                                                   |
|-----------------|-------|----------------------------------------------------------------------------|
| **1. SYN**      | **2** | Ä°stemci baÄŸlantÄ± isteÄŸi yollar: â€œMerhaba sunucu, 443 portundan gÃ¶rÃ¼ÅŸelim.â€ |
| **2. SYN, ACK** | **5** | Sunucu cevap verir: â€œTamam, isteÄŸini aldÄ±m, ben de hazÄ±rÄ±m.â€               |
| **3. ACK**      | **6** | Ä°stemci onay verir: â€œTeÅŸekkÃ¼rler, baÄŸlantÄ± hazÄ±r.â€                         |

ğŸ”¸ **SonuÃ§:** TCP baÄŸlantÄ±sÄ± kuruldu. ArtÄ±k iki taraf arasÄ±nda gÃ¼venilir bir kanal var.

---

## ğŸ”¹ 2. TLS (HTTPS) El SÄ±kÄ±ÅŸma  
Åimdi bu TCP hattÄ± Ã¼zerinden ÅŸifreli (TLS 1.3) gÃ¶rÃ¼ÅŸme kurulacak.

| AÅŸama                                                   | Frame    | AÃ§Ä±klama                                                                                                                                                                                     |
|---------------------------------------------------------|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **ClientHello**                                         | **9â€“10** | Ä°stemci sunucuya â€œTLS kullanmak istiyorum, desteklediÄŸim ÅŸifreleme yÃ¶ntemleri bunlarâ€ der. SNI kÄ±smÄ±nda `api.atlastorya.com` bilgisini gÃ¶nderir.                                             |
| **ACK**                                                 | **13**   | Sunucu aldÄ±ÄŸÄ±nÄ± onaylar, henÃ¼z cevap hazÄ±rlÄ±yor.                                                                                                                                             |
| **ServerHello**                                         | **16**   | Sunucu kendi sertifikasÄ±nÄ± ve seÃ§tiÄŸi ÅŸifrelemeyi bildirir. ArdÄ±ndan `Change Cipher Spec` ve ilk ÅŸifreli â€œApplication Dataâ€ bloklarÄ±nÄ± gÃ¶nderir. Bu andan itibaren veri ÅŸifrelenmeye baÅŸlar. |
| **ACK**                                                 | **17**   | Ä°stemci sunucunun mesajÄ±nÄ± aldÄ±ÄŸÄ±nÄ± onaylar.                                                                                                                                                 |
| **Change Cipher Spec + Åifreli veri (istek hazÄ±rlÄ±ÄŸÄ±)** | **20**   | Ä°stemci artÄ±k kendi tarafÄ±nda da ÅŸifrelemeyi etkinleÅŸtirir.                                                                                                                                  |
| **Sunucu Application Data**                             | **21**   | Sunucu, el sÄ±kÄ±ÅŸma tamamlandÄ±ktan sonra ilk ÅŸifreli veriyi (muhtemelen HTTP yanÄ±t baÅŸlatÄ±yor) gÃ¶nderir.                                                                                      |

ğŸ”¸ **SonuÃ§:** TLS oturumu baÅŸarÄ±yla kuruldu. ArtÄ±k tÃ¼m mesajlar **ÅŸifreli** gidiyor.

---

## ğŸ”¹ 3. Åifreli Veri AlÄ±ÅŸveriÅŸi (TLSv1.3 Application Data)
Bu noktada istemci ve sunucu artÄ±k HTTPS isteÄŸiâ€“cevabÄ± yapÄ±yorlar ama iÃ§erik ÅŸifreli olduÄŸu iÃ§in Wireshark sadece â€œEncrypted Application Dataâ€ gÃ¶sterebiliyor.

| AÅŸama                               | Frame  | AÃ§Ä±klama                                                          |
|-------------------------------------|--------|-------------------------------------------------------------------|
| **Client â†’ Server veri gÃ¶nderiyor** | **28** | KullanÄ±cÄ± tarafÄ± bir istekte bulunuyor (muhtemelen HTTP request). |
| **Server â†’ Client veri gÃ¶nderiyor** | **42** | Sunucu bir yanÄ±t gÃ¶nderiyor (Ã¶rneÄŸin HTTP response).              |
| **Client ACK**                      | **44** | Ä°stemci â€œcevabÄ± aldÄ±mâ€ diyor.                                     |
| **Client yeni veri gÃ¶nderiyor**     | **52** | Belki sonraki API isteÄŸi veya ek bir veri.                        |
| **Server yeni yanÄ±t gÃ¶nderiyor**    | **79** | Sunucudan bir baÅŸka ÅŸifreli cevap geliyor.                        |
| **ACK**                             | **81** | Ä°stemci tekrar onay veriyor.                                      |

ğŸ”¸ **SonuÃ§:** HTTPS Ã¼zerinden veri alÄ±ÅŸveriÅŸi birkaÃ§ tur yapÄ±lÄ±yor.  
Her ÅŸey TLSv1.3 ile ÅŸifreli, dolayÄ±sÄ±yla iÃ§erik okunamÄ±yor ama akÄ±ÅŸ dÃ¼zenli.

---

## ğŸ”¹ 4. BaÄŸlantÄ±nÄ±n SonlandÄ±rÄ±lmasÄ± (TCP Teardown)
Veri alÄ±ÅŸveriÅŸi bittiÄŸinde taraflar karÅŸÄ±lÄ±klÄ± baÄŸlantÄ±yÄ± dÃ¼zgÃ¼n kapatÄ±r.

| AÅŸama                                         | Frame   | AÃ§Ä±klama                                                                             |
|-----------------------------------------------|---------|--------------------------------------------------------------------------------------|
| **Server Application Data (kapanÄ±ÅŸ sinyali)** | **138** | Sunucu son bir kÄ±sa ÅŸifreli mesaj gÃ¶nderiyor (muhtemelen â€œHTTP 200 OKâ€ bitti tarzÄ±). |
| **Server â†’ FIN, ACK**                         | **139** | Sunucu diyor ki: â€œBen baÄŸlantÄ±yÄ± kapatÄ±yorum.â€                                       |
| **Client â†’ ACK**                              | **141** | Ä°stemci â€œTamam, ben aldÄ±m.â€ diye onaylar.                                            |
| **Client Application Data (kapanÄ±ÅŸ mesajÄ±)**  | **142** | Ä°stemciden son kÃ¼Ã§Ã¼k ÅŸifreli bilgi (muhtemelen â€œteÅŸekkÃ¼r / oturum sonuâ€ gibi).       |
| **Client â†’ FIN, ACK**                         | **143** | Ä°stemci de baÄŸlantÄ±yÄ± kapatÄ±r.                                                       |
| **Server â†’ ACK**                              | **149** | Sunucu nihai onayÄ± gÃ¶nderir. BaÄŸlantÄ± tamamen kapanÄ±r.                               |

ğŸ”¸ **SonuÃ§:** TCP oturumu dÃ¼zgÃ¼n ÅŸekilde sonlandÄ±rÄ±ldÄ±. Veri kaybÄ± veya hata yok.

---

## ğŸ” Ã–zet GÃ¶rsel (metinle)
```
[FRAME 2]   Client â†’ Server  : SYN
[FRAME 5]   Server â†’ Client  : SYN, ACK
[FRAME 6]   Client â†’ Server  : ACK           â†’ TCP baÄŸlantÄ±sÄ± kuruldu

[FRAME 9â€“10] Client â†’ Server : TLS ClientHello (api.atlastorya.com)
[FRAME 16]   Server â†’ Client : TLS ServerHello + ChangeCipherSpec
[FRAME 20]   Client â†’ Server : ChangeCipherSpec + Encrypted Request
[FRAME 21â€“81] Veri alÄ±ÅŸveriÅŸi (TLS ÅŸifreli Application Data)
[FRAME 138â€“149] KarÅŸÄ±lÄ±klÄ± FIN, ACK  â†’ BaÄŸlantÄ± kapandÄ±
```

---

### ğŸ”š SonuÃ§
Bu Wireshark kaydÄ±, **bir HTTPS oturumunun baÅŸtan sona tam akÄ±ÅŸÄ±dÄ±r:**
1. TCP baÄŸlantÄ±sÄ± kurulur âœ…  
2. TLS el sÄ±kÄ±ÅŸmasÄ± yapÄ±lÄ±r âœ…  
3. Åifreli veri gÃ¶nderilir/alÄ±nÄ±r âœ…  
4. BaÄŸlantÄ± dÃ¼zgÃ¼n ÅŸekilde kapatÄ±lÄ±r âœ…  

Yani â€œkÄ±sa bir HTTPS istekâ€“cevap iÅŸleminiâ€ (Ã¶rneÄŸin bir API Ã§aÄŸrÄ±sÄ±) gerÃ§ek zamanlÄ± olarak yakalamÄ±ÅŸsÄ±n. 
